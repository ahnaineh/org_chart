"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[151],{7562:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"org-chart/org_chart","title":"OrgChart Widget","description":"Component for rendering organizational charts","source":"@site/docs/org-chart/org_chart.mdx","sourceDirName":"org-chart","slug":"/org-chart/org_chart","permalink":"/org_chart/docs/org-chart/org_chart","draft":false,"unlisted":false,"editUrl":"https://github.com/ahnaineh/org_chart/tree/docs/docs/docs/org-chart/org_chart.mdx","tags":[],"version":"current","frontMatter":{"title":"OrgChart Widget","description":"Component for rendering organizational charts"},"sidebar":"tutorialSidebar","previous":{"title":"OrgChartController","permalink":"/org_chart/docs/org-chart/controller"},"next":{"title":"Genogram (Experimental)","permalink":"/org_chart/docs/category/genogram-experimental"}}');var o=r(4848),i=r(8453);const a={title:"OrgChart Widget",description:"Component for rendering organizational charts"},d="OrgChart Widget",l={},s=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Constructor Parameters",id:"constructor-parameters",level:2},{value:"Drag and Drop Operations",id:"drag-and-drop-operations",level:2},{value:"Understanding <code>isTargetSubnode</code>",id:"understanding-istargetsubnode",level:3},{value:"Collapsing/Expanding Subtrees",id:"collapsingexpanding-subtrees",level:2},{value:"Working with Levels",id:"working-with-levels",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"orgchart-widget",children:"OrgChart Widget"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"OrgChart"})," widget displays hierarchical organizational structures with single-parent relationships."]}),"\n",(0,o.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"OrgChart<Employee>(\n  controller: controller,\n  builder: (details) {\n    return Card(\n      child: Padding(\n        padding: const EdgeInsets.all(8.0),\n        child: Column(\n          children: [\n            Text(details.item.name, style: TextStyle(fontWeight: FontWeight.bold)),\n            Text(details.item.position),\n            if (details.level > 1) // Don't show toggle for CEO/root\n              IconButton(\n                icon: Icon(details.nodesHidden ? Icons.add : Icons.remove),\n                onPressed: () => details.hideNodes(),\n              ),\n          ],\n        ),\n      ),\n    );\n  },\n)\n"})}),"\n",(0,o.jsx)(n.h2,{id:"constructor-parameters",children:"Constructor Parameters"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"OrgChart"})," widget extends ",(0,o.jsx)(n.code,{children:"BaseGraph"})," and inherits all its ",(0,o.jsx)(n.a,{href:"/org_chart/docs/common/graph",children:"common properties"}),", plus:"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Default"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"controller"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"OrgChartController<E>"})}),(0,o.jsx)(n.td,{children:"required"}),(0,o.jsx)(n.td,{children:"Controller managing chart data and layout"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"onDrop"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Function(E dragged, E target, bool isTargetSubnode)?"})}),(0,o.jsx)(n.td,{children:"null"}),(0,o.jsx)(n.td,{children:"Callback when a node is dropped onto another"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"drag-and-drop-operations",children:"Drag and Drop Operations"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"onDrop"})," callback provides three parameters:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"OrgChart<Employee>(\n  controller: controller,\n  builder: employeeNodeBuilder,\n  onDrop: (dragged, target, isTargetSubnode) {\n    if (isTargetSubnode) {\n      // Prevent circular reference - can't make a manager report to their own subordinate\n      showDialog(\n        context: context,\n        builder: (context) => AlertDialog(\n          title: Text('Invalid Operation'),\n          content: Text('Cannot create circular reporting relationship'),\n          actions: [\n            TextButton(\n              onPressed: () => Navigator.of(context).pop(),\n              child: Text('OK'),\n            ),\n          ],\n        ),\n      );\n    } else {\n      // Update the reporting relationship\n      setState(() {\n        dragged.managerId = target.id;\n        controller.calculatePosition();\n      });\n    }\n  },\n)\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"understanding-istargetsubnode",children:["Understanding ",(0,o.jsx)(n.code,{children:"isTargetSubnode"})]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"isTargetSubnode"})," parameter is critical for preventing circular references in organizational hierarchies:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"true"}),": The target node is already a subordinate (direct or indirect) of the dragged node"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"false"}),": The target is not a subordinate, making it safe to create a reporting relationship"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"collapsingexpanding-subtrees",children:"Collapsing/Expanding Subtrees"}),"\n",(0,o.jsx)(n.p,{children:"OrgChart supports collapsing and expanding subtrees for better navigation of large hierarchies:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"builder: (details) {\n  return Card(\n    child: Column(\n      children: [\n        Text(details.item.name),\n        // Show toggle button only if the node has children\n        if (controller.getSubNodes(controller.nodes.firstWhere(\n          (node) => controller.idProvider(node.data) == controller.idProvider(details.item)\n        )).isNotEmpty)\n          IconButton(\n            icon: Icon(details.nodesHidden ? Icons.add : Icons.remove),\n            onPressed: () => details.hideNodes(),\n            tooltip: details.nodesHidden ? 'Expand' : 'Collapse',\n          ),\n      ],\n    ),\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"working-with-levels",children:"Working with Levels"}),"\n",(0,o.jsx)(n.p,{children:"The level of each node in the hierarchy is provided, making it easy to apply different styling based on depth:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:'builder: (details) {\n  // Different background colors based on level\n  Color backgroundColor = details.level == 1 \n    ? Colors.amber[300]! // CEO\n    : details.level == 2 \n      ? Colors.blue[200]! // VP level\n      : details.level == 3 \n        ? Colors.green[100]! // Director level\n        : Colors.grey[100]!; // Other employees\n  \n  return Card(\n    color: backgroundColor,\n    child: Padding(\n      padding: const EdgeInsets.all(8.0),\n      child: Column(\n        children: [\n          Text(details.item.name),\n          Text("Level: ${details.level}"),\n        ],\n      ),\n    ),\n  );\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var t=r(6540);const o={},i=t.createContext(o);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);