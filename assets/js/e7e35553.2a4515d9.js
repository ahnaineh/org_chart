"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[265],{2506:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"org-chart/controller","title":"OrgChartController","description":"Controller for organizational chart hierarchy","source":"@site/docs/org-chart/controller.mdx","sourceDirName":"org-chart","slug":"/org-chart/controller","permalink":"/org_chart/docs/org-chart/controller","draft":false,"unlisted":false,"editUrl":"https://github.com/ahnaineh/org_chart/tree/docs/docs/docs/org-chart/controller.mdx","tags":[],"version":"current","frontMatter":{"title":"OrgChartController","description":"Controller for organizational chart hierarchy"},"sidebar":"tutorialSidebar","previous":{"title":"Org Chart","permalink":"/org_chart/docs/category/org-chart"},"next":{"title":"OrgChart Widget","permalink":"/org_chart/docs/org-chart/org_chart"}}');var o=r(4848),i=r(8453);const l={title:"OrgChartController",description:"Controller for organizational chart hierarchy"},d="OrgChart Controller",s={},c=[{value:"Creating a Controller",id:"creating-a-controller",level:2},{value:"Constructor Parameters",id:"constructor-parameters",level:2},{value:"Key Methods",id:"key-methods",level:2},{value:"Hierarchy Management",id:"hierarchy-management",level:3},{value:"Node Operations",id:"node-operations",level:3},{value:"Layout Configuration",id:"layout-configuration",level:3},{value:"Node Removal Actions",id:"node-removal-actions",level:2},{value:"Layout Algorithm",id:"layout-algorithm",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"orgchart-controller",children:"OrgChart Controller"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"OrgChartController"})," manages data and layout for hierarchical organizational charts with single-parent relationships."]}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-controller",children:"Creating a Controller"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"final controller = OrgChartController<Employee>(\r\n  items: employees,\r\n  idProvider: (emp) => emp.id.toString(),\r\n  toProvider: (emp) => emp.managerId?.toString(),\r\n  boxSize: const Size(180, 100),\r\n  spacing: 25,\r\n  runSpacing: 50,\r\n  leafColumns: 4,\r\n);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"constructor-parameters",children:"Constructor Parameters"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"items"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"List<E>"})}),(0,o.jsx)(n.td,{children:"Data items to display in the chart"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"idProvider"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"String Function(E)"})}),(0,o.jsx)(n.td,{children:"Function to extract unique ID from an item"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"toProvider"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"String? Function(E)"})}),(0,o.jsx)(n.td,{children:"Function to extract parent/manager ID from an item"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:[(0,o.jsx)(n.code,{children:"toSetter"})," (optional)"]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"void Function(E, String?)"})}),(0,o.jsx)(n.td,{children:"Function to update an item's parent/manager ID"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"boxSize"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Size"})}),(0,o.jsxs)(n.td,{children:["Size of each node box (default: ",(0,o.jsx)(n.code,{children:"Size(200, 100)"}),")"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"spacing"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"double"})}),(0,o.jsxs)(n.td,{children:["Horizontal spacing between nodes (default: ",(0,o.jsx)(n.code,{children:"20"}),")"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"runSpacing"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"double"})}),(0,o.jsxs)(n.td,{children:["Vertical spacing between rows (default: ",(0,o.jsx)(n.code,{children:"50"}),")"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"orientation"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"GraphOrientation"})}),(0,o.jsxs)(n.td,{children:["Layout direction (default: ",(0,o.jsx)(n.code,{children:"topToBottom"}),")"]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"leafColumns"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"int"})}),(0,o.jsxs)(n.td,{children:["Number of columns to arrange leaf nodes (default: ",(0,o.jsx)(n.code,{children:"4"}),")"]})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"key-methods",children:"Key Methods"}),"\n",(0,o.jsx)(n.h3,{id:"hierarchy-management",children:"Hierarchy Management"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"// Get root nodes (items with no manager)\r\nList<Node<Employee>> roots = controller.roots;\r\n\r\n// Get direct reports of a node\r\nList<Node<Employee>> reportees = controller.getSubNodes(someNode);\r\n\r\n// Determine if one node is a descendant of another (prevents circular refs)\r\nbool isSubordinate = controller.isSubNode(employeeNode, managerNode);\r\n\r\n// Get the parent/manager of a node\r\nNode<Employee>? manager = controller.getParent(employeeNode);\r\n\r\n// Get the level/depth of a node in the hierarchy\r\nint level = controller.getLevel(employeeNode); // 1 = root\n"})}),"\n",(0,o.jsx)(n.h3,{id:"node-operations",children:"Node Operations"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"// Add a new employee\r\ncontroller.addItem(newEmployee);\r\n\r\n// Remove an employee with different strategies\r\ncontroller.removeItem(\r\n  '123',\r\n  ActionOnNodeRemoval.unlink, // Remove links to this node\r\n);\r\n\r\n// Available removal actions:\r\n// - unlink: Remove employee but leave subordinates without a manager\r\n// - connectToParent: Connect subordinates to the employee's manager\r\n// - removeDescendants: Remove the employee and all subordinates\n"})}),"\n",(0,o.jsx)(n.h3,{id:"layout-configuration",children:"Layout Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"// Change the number of columns used for leaf nodes\r\ncontroller.leafColumns = 3;\r\ncontroller.calculatePosition();\r\n\r\n// Change the orientation\r\ncontroller.switchOrientation(orientation: GraphOrientation.leftToRight);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"node-removal-actions",children:"Node Removal Actions"}),"\n",(0,o.jsx)(n.p,{children:"When removing a node, you can choose how to handle its subordinates:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Action"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ActionOnNodeRemoval.unlink"})}),(0,o.jsxs)(n.td,{children:["Removes node and sets its subordinates' manager to ",(0,o.jsx)(n.code,{children:"null"})]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ActionOnNodeRemoval.connectToParent"})}),(0,o.jsx)(n.td,{children:"Connects subordinates to the removed node's own manager"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ActionOnNodeRemoval.removeDescendants"})}),(0,o.jsx)(n.td,{children:"Removes the node and all its subordinates"})]})]})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dart",children:"// Example: Promoting subordinates when removing a manager\r\ncontroller.removeItem(\r\n  managerId,\r\n  ActionOnNodeRemoval.connectToParent\r\n);\r\n\r\n// Example: Removing an entire department\r\ncontroller.removeItem(\r\n  departmentHeadId,\r\n  ActionOnNodeRemoval.removeDescendants\r\n);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"layout-algorithm",children:"Layout Algorithm"}),"\n",(0,o.jsx)(n.p,{children:"The controller implements two different layout algorithms depending on the orientation:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Top-to-Bottom"}),": Nodes are positioned in rows, with parents above their children."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Root nodes are positioned at the top"}),"\n",(0,o.jsx)(n.li,{children:"Each level is positioned below the previous level"}),"\n",(0,o.jsx)(n.li,{children:"Parents are centered above their children"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Left-to-Right"}),": Nodes are positioned in columns, with parents to the left of their children."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Root nodes are positioned at the leftmost side"}),"\n",(0,o.jsx)(n.li,{children:"Each level is positioned to the right of the previous level"}),"\n",(0,o.jsx)(n.li,{children:"Parents are centered to the left of their children"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For leaf nodes (nodes without children), the controller arranges them in a grid pattern with ",(0,o.jsx)(n.code,{children:"leafColumns"})," columns."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>d});var t=r(6540);const o={},i=t.createContext(o);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);